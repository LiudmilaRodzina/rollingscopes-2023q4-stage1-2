var g=Object.defineProperty;var E=(a,e,t)=>e in a?g(a,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[e]=t;var m=(a,e,t)=>(E(a,typeof e!="symbol"?e+"":e,t),t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function t(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=t(r);fetch(r.href,s)}})();class f{constructor(e={tag:"",classNames:[],textContent:""}){m(this,"element");this.element=null,this.createElement(e)}createElement(e){this.element=document.createElement(e.tag),this.setCSSClasses(e.classNames),this.setTextContent(e.textContent)}setCSSClasses(e){e.forEach(t=>{this.element&&this.element.classList.add(t)})}setTextContent(e){this.element&&(this.element.textContent=e)}getElement(){return this.element}}var c=(a=>(a.Capitalization="Please start with a capitalized Latin letter",a.CharacterRestriction="Please enter only Latin letters and the hyphen (-) symbol",a.LengthRestrictionName="First name must be at least 3 characters long",a.LengthRestrictionSurname="Surname must be at least 4 characters long",a))(c||{});class n{constructor(e,t,i){m(this,"formElement");m(this,"loginButton");m(this,"allInputs");this.formElement=e,this.loginButton=this.formElement.querySelector(t),this.allInputs=Array.from(this.formElement.querySelectorAll(i))}setupValidation(){this.loginButton&&(this.loginButton.disabled=!0,this.allInputs.forEach(e=>{e.addEventListener("input",()=>{this.validateEmptyInputs(),n.validateUppercaseFirstLetter(e),this.validateCharacterRestriction(e),n.validateMinimumLength(e)}),e.tagName==="input"&&e.setAttribute("required","true")}))}validateEmptyInputs(){const e=this.allInputs.every(t=>t.value.trim()!==""&&n.validateUppercaseFirstLetter(t)&&this.validateCharacterRestriction(t)&&n.validateMinimumLength(t));this.loginButton&&(this.loginButton.disabled=!e)}static isFirstLetterUppercase(e){const t=e.value.trim().charAt(0);return/^[A-Z]/.test(t)}static validateUppercaseFirstLetter(e){if(!n.isFirstLetterUppercase(e)){const t=c.Capitalization;return n.showErrorMessage(e,t),!1}return!0}validateCharacterRestriction(e){if(!/^[a-zA-Z-]*$/.test(e.value)){const i=c.CharacterRestriction;return this.hideAllErrorMessages(e),n.showErrorMessage(e,i),!1}return n.hideErrorMessage(e),!0}static validateMinimumLength(e){const t=e.getAttribute("name"),s=t==="name"?3:4,l=e.nextElementSibling;if(l&&l.className==="error-message")return!0;if(!n.isFirstLetterUppercase(e)){const o=c.Capitalization;return n.hideErrorMessage(e),n.showErrorMessage(e,o),!1}if(e.value.length<s){const o=t==="name"?c.LengthRestrictionName:c.LengthRestrictionSurname;return n.showErrorMessage(e,o),!1}return n.hideErrorMessage(e),!0}static showErrorMessage(e,t){const i=e.nextElementSibling;if(!i||i.className!=="error-message"){const r=document.createElement("span");r.className="error-message",r.textContent=t,e.insertAdjacentElement("afterend",r)}}static hideErrorMessage(e){const t=e.nextElementSibling;t&&t.className==="error-message"&&t.remove()}hideAllErrorMessages(e){this.allInputs.forEach(t=>{n.skipErrorHiding(e,t)||n.hideErrorMessage(t)})}static skipErrorHiding(e,t){return t===e?!1:e.getAttribute("name")!==t.getAttribute("name")}}class p extends f{constructor(){super({tag:"form",classNames:["login-container"],textContent:""}),this.createLoginView();const e=this.getElement();new n(e,"button","input").setupValidation()}addElement(e,t,i,r,s=""){const l={tag:e,textContent:t,attr:i,classNames:r,autocomplete:s},o=new f(l),h=this.getElement();if(h&&(h.append(o.getElement()),e==="input")){const d=o.getElement();d.name=i,s&&d.setAttribute("autocomplete",s)}}createLoginView(){this.addElement("label","Name:","name",["input-label"]),this.addElement("input","","name",["input-field","name"],"off"),this.addElement("label","Surname:","",["input-label"]),this.addElement("input","","surname",["input-field","surname"],"off"),this.addElement("button","Login","",["button","button-login"])}}class u{constructor(){u.createView()}static createView(){const e=new p,t=document.body;t&&t.append(e.getElement())}}new u;
