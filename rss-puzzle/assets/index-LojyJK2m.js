var E=Object.defineProperty;var p=(i,e,t)=>e in i?E(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t;var m=(i,e,t)=>(p(i,typeof e!="symbol"?e+"":e,t),t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))a(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const l of r.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&a(l)}).observe(document,{childList:!0,subtree:!0});function t(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function a(s){if(s.ep)return;s.ep=!0;const r=t(s);fetch(s.href,r)}})();class g{constructor(e={tag:"",classNames:[],textContent:""}){m(this,"element");this.element=null,this.createElement(e)}createElement(e){this.element=document.createElement(e.tag),this.setCSSClasses(e.classNames),this.setTextContent(e.textContent)}setCSSClasses(e){e.forEach(t=>{this.element&&this.element.classList.add(t)})}setTextContent(e){this.element&&(this.element.textContent=e)}getElement(){return this.element}}var c=(i=>(i.Capitalization="Please start with a capitalized Latin letter",i.CharacterRestriction="Please enter only Latin letters and the hyphen (-) symbol",i.LengthRestrictionName="First name must be at least 3 characters long",i.LengthRestrictionSurname="Surname must be at least 4 characters long",i))(c||{});class u{static saveUserData(e){u.validateUserData(e)&&localStorage.setItem("userData",JSON.stringify(e))}static validateUserData(e){return!e||Object.keys(e).length===0?!1:Object.values(e).every(t=>t.trim()!=="")}}class n{constructor(e,t,a){m(this,"formElement");m(this,"loginButton");m(this,"allInputs");this.formElement=e,this.loginButton=this.formElement.querySelector(t),this.allInputs=Array.from(this.formElement.querySelectorAll(a))}setupValidation(){this.loginButton&&(this.loginButton.disabled=!0,this.loginButton.addEventListener("click",()=>{const e=this.getUserDataFromInputs();e&&u.saveUserData(e)}),this.allInputs.forEach(e=>{e.addEventListener("input",()=>{this.validateEmptyInputs(),n.validateUppercaseFirstLetter(e),this.validateCharacterRestriction(e),n.validateMinimumLength(e)}),e.tagName==="input"&&e.setAttribute("required","true")}))}validateEmptyInputs(){const e=this.allInputs.every(t=>t.value.trim()!==""&&n.validateUppercaseFirstLetter(t)&&this.validateCharacterRestriction(t)&&n.validateMinimumLength(t));this.loginButton&&(this.loginButton.disabled=!e)}getUserDataFromInputs(){const e={};return this.allInputs.forEach(t=>{const a=t.getAttribute("name"),s=t.value.trim();a&&s&&(e[a]=s)}),Object.keys(e).length>0?e:null}static isFirstLetterUppercase(e){const t=e.value.trim().charAt(0);return/^[A-Z]/.test(t)}static validateUppercaseFirstLetter(e){if(!n.isFirstLetterUppercase(e)){const t=c.Capitalization;return n.showErrorMessage(e,t),!1}return!0}validateCharacterRestriction(e){if(!/^[a-zA-Z-]*$/.test(e.value)){const a=c.CharacterRestriction;return this.hideAllErrorMessages(e),n.showErrorMessage(e,a),!1}return n.hideErrorMessage(e),!0}static validateMinimumLength(e){const t=e.getAttribute("name"),r=t==="name"?3:4,l=e.nextElementSibling;if(l&&l.className==="error-message")return!0;if(!n.isFirstLetterUppercase(e)){const o=c.Capitalization;return n.hideErrorMessage(e),n.showErrorMessage(e,o),!1}if(e.value.length<r){const o=t==="name"?c.LengthRestrictionName:c.LengthRestrictionSurname;return n.showErrorMessage(e,o),!1}return n.hideErrorMessage(e),!0}static showErrorMessage(e,t){const a=e.nextElementSibling;if(!a||a.className!=="error-message"){const s=document.createElement("span");s.className="error-message",s.textContent=t,e.insertAdjacentElement("afterend",s)}}static hideErrorMessage(e){const t=e.nextElementSibling;t&&t.className==="error-message"&&t.remove()}hideAllErrorMessages(e){this.allInputs.forEach(t=>{n.skipErrorHiding(e,t)||n.hideErrorMessage(t)})}static skipErrorHiding(e,t){return t===e?!1:e.getAttribute("name")!==t.getAttribute("name")}}class b extends g{constructor(){super({tag:"form",classNames:["login-container"],textContent:""}),this.createLoginView();const e=this.getElement();new n(e,"button","input").setupValidation()}addElement(e,t,a,s,r=""){const l={tag:e,textContent:t,attr:a,classNames:s,autocomplete:r},o=new g(l),f=this.getElement();if(f&&(f.append(o.getElement()),e==="input")){const d=o.getElement();d.name=a,r&&d.setAttribute("autocomplete",r)}}createLoginView(){this.addElement("label","Name:","name",["input-label"]),this.addElement("input","","name",["input-field","name"],"off"),this.addElement("label","Surname:","",["input-label"]),this.addElement("input","","surname",["input-field","surname"],"off"),this.addElement("button","Login","",["button","button-login"])}}class h{constructor(){h.createView()}static createView(){const e=new b,t=document.body;t&&t.append(e.getElement())}}new h;console.log(`Completed tasks: 01, 02, 03 (so far)
Total: 25 points`);
